<SCRIPT LANGUAGE="JavaScript">
// ************************************
// Program: LAB11.htm
// Created by: Levi Cohen
// Date: 3/9/25
// Function: Computes Monthly Auto Loan
// Update: Includes Clear Function
// Update: Includes Validation
// Update: Change Font
// Update: Include Key Validataion and Trim
// ************************************
//
// Loan Payment = pmt=amt*int/(1-(1+int)^(-1*mon))
//

function calcit(form){

if (form.amt.value==null || form.amt.value=="")
  {
  alert("Loan Amount value must be filled out");
  return false;
  }
if (form.int.value==null || form.int.value=="")
  {
  alert("Interest Rate value must be filled out");
  return false;
  }

// Start of Year Validation for blank Code 1 

if (form.years.value==null || form.years.value=="")
{
alert("Loan years value must be filled out");
return false;
}

// End of Year Validation for blank Code 1

 var la=isNaN(form.amt.value);
 if (la==true)
  {
  alert("Loan Amount value must numeric");
  form.amt.value="";
  return false;
  } 
 
 var ir=isNaN(form.int.value);
 if (ir==true)
  {
  alert("Interest Rate value must numeric");
  form.int.value="";
  return false;
  } 
 

// Start of Year Validation Code 2

var ny=isNaN(form.years.value);
if (ny==true)
{
alert("Number of Years value must numeric");
form.years.value="";
return false;
}




// End of Year Validation Code 2


  var mon=form.years.value*12; 
  var intm=form.int.value/12;
  form.pmt.value=form.amt.value*intm/(1-Math.pow((1+intm),-1*mon));
  form.pmt.value= Math.round(form.pmt.value*100)/100;
}

function clearit(form){
	var mon=""; 
  var intm="";
	form.pmt.value="";
	form.int.value="";
	form.amt.value="";
	form.years.value="";
}
function isNumberKey(evt){      
         var charCode = (evt.which) ? evt.which : event.keyCode
         if (charCode > 31 && (charCode < 48 || charCode > 57) && (charCode < 46 || charCode > 46) )
            return false;
         return true;
}

// Reference:
// Key Codes    -- http://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes
// Alert & Null -- http://www.w3schools.com/js/js_form_validation.asp
// onkeypress="return isNumberKey(event)"
</SCRIPT>
<HTML>
<!DOCTYPE html>
<html lang="en">
<meta http-equiv="content-type" content="text/html;charset=windows-1252">
<title>AUTO Loan</title>
<FORM>
<BODY>	
<IMG SRC="auto.jpg" WIDTH="450" HEIGHT="300" alt="Auto Loan"></IMG> 

<TABLE>
<TR><TD><label for="iamt">Enter Loan Amount (18000)  :</label></TD><TD><INPUT TYPE ="text"   id="iamt"    NAME="amt"  required="" autofocus="" SIZE=15 onkeypress="return isNumberKey(event)"></INPUT></TD></TR>
<TR><TD><label for="irate">Enter Interest Rate (.0325):</label></TD><TD><INPUT TYPE ="text"  id="irate"   NAME="int" required="" SIZE=15 onkeypress="return isNumberKey(event)"></INPUT></TD></TR>
<TR><TD><label for="iyears">Enter Loan Years (4)       :</label></TD><TD><INPUT TYPE ="text" id="iyears"  NAME="years" required="" SIZE=15 onkeypress="return isNumberKey(event)"></INPUT></TD></TR>

<TR><TD><label for="cal"></label><INPUT TYPE ="button" VALUE="Calculate"  id="cal" ONCLICK="calcit(this.form)"></INPUT></TD></TR>
<TR><TD><label for="clr"></label><INPUT TYPE ="button" VALUE="Clear"  id="clr" ONCLICK="clearit(this.form)"></INPUT></TD></TR>


<TR><TD><big><big><b><font color="#ff0000"><label for="opmt">Your Payment Amount:</label></font></b></big></big></TD><TD><INPUT TYPE="text" NAME="pmt" readonly="readonly" id="opmt" SIZE=15></INPUT></TD></TR>
</TABLE>

</BODY>
</FORM>
</HTMl>